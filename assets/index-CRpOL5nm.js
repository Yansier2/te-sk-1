import{b as N,u as b,r as s,o as C,d as E,e as d,f as g,g as m,h as c,p as h,q as L,i as o,k as n,l as p,x as G,s as T,y as q,m as z,n as F,F as H}from"./tailwind-Ca7WN8uF.js";import{u as K,G as M}from"./global-0wlaCXMk.js";import{p as U}from"./index-CwfRoumj.js";import"./portal-D3YD2YIY.js";import"./request-CxiSwefz.js";import"./index-CbLVtGPn.js";const j={class:"goodsNav flex px-4 py-2"},D={class:"min-w-14"},I={key:0,class:"flex justify-center items-center text-xs py-10",style:{color:"#6e7382"}},R={__name:"index",setup(A){const y=b(),u=s(""),l=s(!1),_=s(!1),a=s([]),r=s(0),x=K(),w=e=>{e&&(fbq("track","Search",{search_string:e}),a.value=[],r.value=0,f())},f=()=>{l.value=!0,r.value=r.value+1,U({pageNum:r.value,pageSize:20,keyword:u.value}).then(e=>{a.value=[...a.value,...e.rows],(!e.rows||!e.rows.length)&&(_.value=!0)}).finally(()=>{l.value=!1})},k=()=>{y.go(-1)},v=()=>{const e=document.documentElement,t=e.scrollHeight-e.scrollTop-e.clientHeight;x.updateScrollBottom(t),t<100&&!l.value&&f()};return C(()=>{window.addEventListener("scroll",v)}),E(()=>{window.removeEventListener("scroll",v)}),(e,t)=>{const i=d("el-icon"),S=d("el-input"),V=d("el-empty");return m(),g(H,null,[c("section",j,[o(i,{size:"24",onClick:k},{default:n(()=>[o(p(G))]),_:1}),o(S,{modelValue:u.value,"onUpdate:modelValue":t[0]||(t[0]=B=>u.value=B),placeholder:"Search",clearable:"",onKeyup:q(w,["enter"])},{prefix:n(()=>[o(i,null,{default:n(()=>[o(p(T))]),_:1})]),_:1},8,["modelValue"])]),c("section",D,[o(M,{list:a.value},null,8,["list"])]),l.value?(m(),g("section",I,[o(i,{class:"mr-1 el-icon-loading"},{default:n(()=>[o(p(F))]),_:1}),t[1]||(t[1]=z(" loading "))])):h("",!0),!a.value.length&&!l.value&&_.value?(m(),L(V,{key:1},{description:n(()=>t[2]||(t[2]=[c("p",{class:"font-500 text-center"},"Sorry, there are currently no relevant results",-1),c("p",{class:"text-center mt-2"},"Try changing the keyword ~",-1)])),_:1})):h("",!0)],64)}}},Y=N(R,[["__scopeId","data-v-a93a7053"]]);export{Y as default};
