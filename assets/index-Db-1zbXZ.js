import{b as N,r as l,u as B,o as V,d as L,e as v,f,g as m,h as s,i as t,j as D,w as E,k as c,l as p,s as A,v as C,t as F,F as b,m as G,n as M}from"./tailwind-Ca7WN8uF.js";import{u as R,G as T}from"./global-0wlaCXMk.js";import{p as z}from"./index-CwfRoumj.js";import"./portal-D3YD2YIY.js";import"./request-CxiSwefz.js";import"./index-CbLVtGPn.js";const H={style:{background:"#fff",overflow:"hidden"}},I={class:"search-bar"},U={class:"tag-list"},j={class:"tag"},$={class:"h-36 text-center loading"},q={key:0,class:"noMore"},J={__name:"index",setup(K){const g=l(""),n=B();let r=l(0);const o=l([]),i=l(!1),_=l(!1),x=R(),y=()=>{n.go(-1)},h=async a=>{try{i.value=!0,r.value=r.value+1;const e=await z({pageNum:r.value,pageSize:20,categoryId:a});o.value=[...o.value,...e.rows],(!e.rows||e.rows.length===0)&&(_.value=!0),document.title=e.rows[0].categoryName}catch(e){console.log(e)}finally{i.value=!1}},d=()=>{const a=document.documentElement,e=a.scrollHeight-a.scrollTop-a.clientHeight;x.updateScrollBottom(e),e<100&&!i.value&&h(n.currentRoute.value.params.id)};return V(()=>{h(n.currentRoute.value.params.id),window.addEventListener("scroll",d)}),L(()=>{window.removeEventListener("scroll",d)}),(a,e)=>{const S=v("ArrowLeft"),u=v("el-icon"),k=v("el-input");return m(),f(b,null,[s("section",H,[t(u,{size:"24",onClick:y,class:"allpagegoback"},{default:c(()=>[t(S)]),_:1}),e[2]||(e[2]=D('<section class="tabs" data-v-0c6f6889><section class="tabs-wrapper" data-v-0c6f6889><section class="tabs-items flex" data-v-0c6f6889><div data-v-0c6f6889>All</div><div data-v-0c6f6889></div><div data-v-0c6f6889></div><div data-v-0c6f6889></div></section><section class="tabs-slider" data-v-0c6f6889><div class="tabs-line" data-v-0c6f6889></div></section></section></section>',1)),s("section",I,[t(k,{modelValue:g.value,"onUpdate:modelValue":e[0]||(e[0]=w=>g.value=w),placeholder:"Search",onFocus:e[1]||(e[1]=w=>p(n).push("/search"))},{prefix:c(()=>[t(u,null,{default:c(()=>[t(p(A))]),_:1})]),_:1},8,["modelValue"])]),E(s("section",U,[s("div",j,F(o.value.length&&o.value[0].categoryName),1)],512),[[C,o.value.length]])]),s("section",{class:"good-list overflow-y-auto",onScroll:d},[t(T,{list:o.value},null,8,["list"])],32),s("section",$,[_.value?(m(),f("div",q,"no more data")):(m(),f(b,{key:1},[t(u,{class:"mr-1 el-icon-loading"},{default:c(()=>[t(p(M))]),_:1}),e[3]||(e[3]=G(" loading "))],64))])],64)}}},Z=N(J,[["__scopeId","data-v-0c6f6889"]]);export{Z as default};
